@using DotnetMultiverse.Client.SoundConverter.Pages
@* Could be moved to its own client project as a component. Interactive webassembly components cannot be in server project. *@

<MudPopoverProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>
<MudThemeProvider Theme="@_theme" IsDarkMode="_isDarkMode"  />

<MudAppBar Elevation="0" Color="Color.Transparent" Dense="true">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@DrawerToggle" />
    <MudButton Color="Color.Primary" Href="/">Dotnet Multiverse</MudButton>
    <MudSpacer/>
    <MudIconButton
        Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit"
        Edge="Edge.Start"
        Href="https://github.com/mathujeyanth/dotnet-multiverse"
        Target="_blank"/>
    <MudIconButton Icon="@DarkLightModeButtonIcon" Color="Color.Inherit" Edge="Edge.Start" OnClick="@DarkModeToggle" />
</MudAppBar>
<MudDrawer @bind-Open="_drawerOpen"
           Elevation="0"
           ClipMode="DrawerClipMode.Always"
           OverlayAutoClose="true"
           Variant="DrawerVariant.Temporary"
           Style="position:fixed;top:auto;">
    <MudNavMenu>
        <MudNavLink Href="weather" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Cloud">Weather</MudNavLink>
        <MudNavLink Href="@SoundConverter.PageUrl" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.MusicNote">Sound converter</MudNavLink>
    </MudNavMenu>
</MudDrawer>

@code {
    private bool _drawerOpen;
    private bool _isDarkMode = true;
    private static PaletteLight _paletteLight = new();
    private static PaletteDark _paletteDark = new();
    private static LayoutProperties _layoutProperties = new();
    private MudTheme _theme = new()
    {
        PaletteLight = _paletteLight,
        PaletteDark = _paletteDark,
        LayoutProperties = _layoutProperties
    };


    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    private void DarkModeToggle()
    {
        _isDarkMode = !_isDarkMode;
    }

    private string DarkLightModeButtonIcon => _isDarkMode switch
    {
        false => Icons.Material.Rounded.DarkMode,
        true => Icons.Material.Outlined.LightMode
    };
}

@*     <MudAppBar Elevation="0" Dense="true"> *@
@*         <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@ToggleDrawer" /> *@
@*         <MudSpacer /> *@
@*         <MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit" Href="https://github.com/MudBlazor/MudBlazor" Target="_blank" /> *@
@*     </MudAppBar> *@
@* <MudDrawer @bind-Open="@_open" ClipMode="DrawerClipMode.Always" Breakpoint="Breakpoint.Lg" Elevation="0" Variant="@DrawerVariant.Mini"> *@
@*     <MudNavMenu> *@
@*         <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Store">Store</MudNavLink> *@
@*         <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.LibraryBooks">Library</MudNavLink> *@
@*         <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Group">Community</MudNavLink> *@
@*     </MudNavMenu> *@
@* </MudDrawer> *@
@* $1$ <MudMainContent Class="pt-16 px-16"> #1# *@
@* $1$     <MudContainer Class="mt-6"> #1# *@
@* $1$         <MudText>hello</MudText> #1# *@
@* $1$     </MudContainer> #1# *@
@* $1$ </MudMainContent> #1# *@
@* *@
@* @code{ *@
@*     private bool _open = false; *@
@*     private void ToggleDrawer() *@
@*     { *@
@*         _open = !_open; *@
@*     } *@
@* } *@
